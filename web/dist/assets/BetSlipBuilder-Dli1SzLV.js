import{u as M,a as O,r,j as e}from"./index-BalcLfRT.js";const g="bet_slip_data",j=()=>({selections:[],stake:"",savedSlips:[]});function B(){const f=M(),{t:l}=O(),[a,i]=r.useState(j),[v,c]=r.useState(!1),[n,d]=r.useState({event:"",selection:"",odds:""}),[x,m]=r.useState(!1);r.useEffect(()=>{const s=localStorage.getItem(g);if(s)try{const t=JSON.parse(s);i({...j(),...t})}catch{console.error("Failed to parse saved bet slip data")}},[]),r.useEffect(()=>{localStorage.setItem(g,JSON.stringify(a))},[a]);const N=()=>{if(!n.event||!n.odds)return;const s=parseFloat(n.odds);if(isNaN(s)||s<=1)return;const t={id:Date.now(),event:n.event,selection:n.selection||l("betSlip.win"),odds:s};i(o=>({...o,selections:[...o.selections,t]})),d({event:"",selection:"",odds:""}),c(!1)},y=s=>{i(t=>({...t,selections:t.selections.filter(o=>o.id!==s)}))},u=()=>{i(s=>({...s,selections:[],stake:""}))},S=()=>{if(a.selections.length===0)return;const s={id:Date.now(),date:new Date().toISOString(),selections:[...a.selections],stake:a.stake,totalOdds:p()};i(t=>({...t,savedSlips:[s,...t.savedSlips].slice(0,20)})),u()},k=s=>{i(t=>({...t,selections:[...s.selections],stake:s.stake})),m(!1)},w=s=>{i(t=>({...t,savedSlips:t.savedSlips.filter(o=>o.id!==s)}))},p=()=>a.selections.length===0?0:a.selections.reduce((s,t)=>s*t.odds,1),h=()=>{const s=parseFloat(a.stake)||0,t=p();return s*t},C=()=>{const s=parseFloat(a.stake)||0;return h()-s},b=p(),L=h(),F=C();return e.jsxs("div",{className:"h-full overflow-y-auto bg-gray-50 pb-24",children:[e.jsxs("div",{className:"bg-white px-5 pt-6 pb-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>f(-1),className:"p-2 -ml-2 hover:bg-gray-100 rounded-xl",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),e.jsx("h1",{className:"text-xl font-bold",children:l("betSlip.title")})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.selections.length}),e.jsx("p",{className:"text-xs text-blue-600/70",children:l("betSlip.selections")})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:b.toFixed(2)}),e.jsx("p",{className:"text-xs text-purple-600/70",children:l("betSlip.totalOdds")})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.savedSlips.length}),e.jsx("p",{className:"text-xs text-green-600/70",children:l("betSlip.saved")})]})]})]}),e.jsxs("div",{className:"px-5 py-4 space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>m(!1),className:`flex-1 py-2.5 rounded-xl font-semibold text-sm transition-colors ${x?"bg-gray-100 text-gray-600":"bg-blue-600 text-white"}`,children:l("betSlip.currentSlip")}),e.jsx("button",{onClick:()=>m(!0),className:`flex-1 py-2.5 rounded-xl font-semibold text-sm transition-colors ${x?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:l("betSlip.savedSlips",{count:a.savedSlips.length})})]}),x?e.jsx("div",{className:"space-y-3",children:a.savedSlips.length===0?e.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})})}),e.jsx("p",{className:"text-gray-500 mb-2",children:l("betSlip.noSavedSlips")}),e.jsx("p",{className:"text-sm text-gray-400",children:l("betSlip.saveSlipsHint")})]}):a.savedSlips.map(s=>e.jsxs("div",{className:"bg-white rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:l("betSlip.selectionCount",{count:s.selections.length})}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-purple-600",children:s.totalOdds.toFixed(2)}),e.jsx("p",{className:"text-xs text-gray-500",children:l("betSlip.odds")})]})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[s.selections.slice(0,3).map((t,o)=>e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[t.event," - ",t.selection," @ ",t.odds.toFixed(2)]},o)),s.selections.length>3&&e.jsx("p",{className:"text-sm text-gray-400",children:l("betSlip.moreSelections",{count:s.selections.length-3})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>k(s),className:"flex-1 py-2 bg-blue-100 text-blue-700 font-semibold rounded-lg text-sm hover:bg-blue-200 transition-colors",children:l("betSlip.loadSlip")}),e.jsx("button",{onClick:()=>w(s.id),className:"p-2 bg-red-50 text-red-500 rounded-lg hover:bg-red-100 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]},s.id))}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2",children:a.selections.length===0?e.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),e.jsx("p",{className:"text-gray-500 mb-2",children:l("betSlip.noSelectionsYet")}),e.jsx("p",{className:"text-sm text-gray-400",children:l("betSlip.addSelectionsHint")})]}):a.selections.map(s=>e.jsxs("div",{className:"bg-white rounded-xl p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:s.event}),e.jsx("p",{className:"text-sm text-gray-500",children:s.selection})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"bg-blue-100 text-blue-700 font-bold px-3 py-1 rounded-lg",children:s.odds.toFixed(2)}),e.jsx("button",{onClick:()=>y(s.id),className:"p-1.5 hover:bg-red-50 rounded-lg text-red-500",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]},s.id))}),e.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-white border-2 border-dashed border-gray-300 rounded-xl py-4 flex items-center justify-center gap-2 text-gray-500 hover:border-blue-400 hover:text-blue-600 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),l("betSlip.addSelection")]}),a.selections.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("betSlip.stake")}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),e.jsx("input",{type:"number",value:a.stake,onChange:s=>i(t=>({...t,stake:s.target.value})),placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg font-semibold"})]})]}),e.jsx("div",{className:"flex gap-2",children:[5,10,25,50,100].map(s=>e.jsxs("button",{onClick:()=>i(t=>({...t,stake:s.toString()})),className:"flex-1 py-2 bg-gray-100 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:["$",s]},s))}),e.jsxs("div",{className:"border-t border-gray-100 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:l("betSlip.totalOdds")}),e.jsx("span",{className:"font-semibold",children:b.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:l("betSlip.stake")}),e.jsxs("span",{className:"font-semibold",children:["$",parseFloat(a.stake||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:l("betSlip.potentialWin")}),e.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["$",L.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:l("betSlip.profit")}),e.jsxs("span",{className:"font-semibold text-green-600",children:["+$",F.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:u,className:"flex-1 py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-colors",children:l("betSlip.clear")}),e.jsxs("button",{onClick:S,className:"flex-1 py-3 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})}),l("betSlip.saveSlip")]})]})]})]})]}),v&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",onClick:()=>c(!1),children:[e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsxs("div",{className:"relative bg-white rounded-t-3xl w-full max-w-lg p-6 pb-8 animate-slide-up",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded-full mx-auto mb-6"}),e.jsx("h3",{className:"text-xl font-bold mb-6",children:l("betSlip.addSelection")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("betSlip.eventMatch")}),e.jsx("input",{type:"text",value:n.event,onChange:s=>d(t=>({...t,event:s.target.value})),placeholder:l("betSlip.eventPlaceholder"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("betSlip.selection")}),e.jsx("input",{type:"text",value:n.selection,onChange:s=>d(t=>({...t,selection:s.target.value})),placeholder:l("betSlip.selectionPlaceholder"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("betSlip.oddsDecimal")}),e.jsx("input",{type:"number",step:"0.01",min:"1.01",value:n.odds,onChange:s=>d(t=>({...t,odds:s.target.value})),placeholder:l("betSlip.oddsPlaceholder"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("button",{onClick:N,disabled:!n.event||!n.odds,className:"w-full py-4 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l("betSlip.addToSlip")})]})]})]}),e.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); }
          to { transform: translateY(0); }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})}export{B as default};
