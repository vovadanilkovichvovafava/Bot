import{f as b,u as re,a as ie,c as oe,b as le,r as j,h as ce,i as de,e as V,j as e,F as J}from"./index-BBi8LWpo.js";const ue={"premier league":39,epl:39,"la liga":140,bundesliga:78,"serie a":135,"ligue 1":61,"champions league":2,ucl:2,"europa league":3,eredivisie:88,"primeira liga":94,championship:40},me=[/(.+?)\s+(?:vs\.?|versus|against|v\.?|‚Äî)\s+(.+)/i,/(?:–º–∞—Ç—á|match|game|predict|analyse|analyze|–ø—Ä–æ–≥–Ω–æ–∑|–∞–Ω–∞–ª–∏–∑)\s+(.+?)\s+(?:vs\.?|v\.?|‚Äî)\s+(.+)/i],he=["manchester united","man united","man utd","–º–∞–Ω—á–µ—Å—Ç–µ—Ä —é–Ω–∞–π—Ç–µ–¥","–º–∞–Ω —é–Ω–∞–π—Ç–µ–¥","manchester city","man city","–º–∞–Ω—á–µ—Å—Ç–µ—Ä —Å–∏—Ç–∏","–º–∞–Ω —Å–∏—Ç–∏","arsenal","–∞—Ä—Å–µ–Ω–∞–ª","chelsea","—á–µ–ª—Å–∏","liverpool","–ª–∏–≤–µ—Ä–ø—É–ª—å","tottenham","tottenham hotspur","spurs","—Ç–æ—Ç—Ç–µ–Ω—Ö–µ–º","—Ç–æ—Ç—Ç–µ–Ω—Ö—ç–º","—Ç–æ—Ç–Ω–µ–º","newcastle","newcastle united","–Ω—å—é–∫–∞—Å–ª","aston villa","–∞—Å—Ç–æ–Ω –≤–∏–ª–ª–∞","west ham","–≤–µ—Å—Ç —Ö—ç–º","–≤–µ—Å—Ç —Ö–∞–º","brighton","–±—Ä–∞–π—Ç–æ–Ω","crystal palace","–∫—Ä–∏—Å—Ç–∞–ª –ø—ç–ª–∞—Å","everton","—ç–≤–µ—Ä—Ç–æ–Ω","fulham","—Ñ—É–ª—Ö—ç–º","—Ñ—É–ª—Ö–µ–º","wolves","wolverhampton","–≤—É–ª–≤–µ—Ä—Ö—ç–º–ø—Ç–æ–Ω","bournemouth","–±–æ—Ä–Ω–º—É—Ç","nottingham forest","–Ω–æ—Ç—Ç–∏–Ω–≥–µ–º","brentford","–±—Ä–µ–Ω—Ç—Ñ–æ—Ä–¥","burnley","–±—ë—Ä–Ω–ª–∏","luton","–ª—É—Ç–æ–Ω","sheffield united","—à–µ—Ñ—Ñ–∏–ª–¥","real madrid","—Ä–µ–∞–ª –º–∞–¥—Ä–∏–¥","—Ä–µ–∞–ª","barcelona","–±–∞—Ä—Å–µ–ª–æ–Ω–∞","–±–∞—Ä—Å–∞","atletico madrid","–∞—Ç–ª–µ—Ç–∏–∫–æ","sevilla","—Å–µ–≤–∏–ª—å—è","real sociedad","—Å–æ—Å—å–µ–¥–∞–¥","villarreal","–≤–∏–ª—å—è—Ä—Ä–µ–∞–ª","athletic bilbao","–∞—Ç–ª–µ—Ç–∏–∫ –±–∏–ª—å–±–∞–æ","real betis","–±–µ—Ç–∏—Å","valencia","–≤–∞–ª–µ–Ω—Å–∏—è","bayern munich","bayern","–±–∞–≤–∞—Ä–∏—è","borussia dortmund","dortmund","–¥–æ—Ä—Ç–º—É–Ω–¥","–±–æ—Ä—É—Å—Å–∏—è","rb leipzig","–ª–µ–π–ø—Ü–∏–≥","bayer leverkusen","leverkusen","–ª–µ–≤–µ—Ä–∫—É–∑–µ–Ω","juventus","—é–≤–µ–Ω—Ç—É—Å","inter milan","inter","–∏–Ω—Ç–µ—Ä","ac milan","milan","–º–∏–ª–∞–Ω","napoli","–Ω–∞–ø–æ–ª–∏","roma","—Ä–æ–º–∞","lazio","–ª–∞—Ü–∏–æ","atalanta","–∞—Ç–∞–ª–∞–Ω—Ç–∞","fiorentina","—Ñ–∏–æ—Ä–µ–Ω—Ç–∏–Ω–∞","psg","paris saint-germain","paris saint germain","–ø–∞—Ä–∏ —Å–µ–Ω-–∂–µ—Ä–º–µ–Ω","–ø—Å–∂","marseille","–º–∞—Ä—Å–µ–ª—å","lyon","–ª–∏–æ–Ω","monaco","–º–æ–Ω–∞–∫–æ","lille","–ª–∏–ª–ª—å","benfica","–±–µ–Ω—Ñ–∏–∫–∞","porto","–ø–æ—Ä—Ç—É","sporting","—Å–ø–æ—Ä—Ç–∏–Ω–≥","ajax","–∞—è–∫—Å","psv","–ø—Å–≤","feyenoord","—Ñ–µ–π–µ–Ω–æ–æ—Ä–¥","galatasaray","–≥–∞–ª–∞—Ç–∞—Å–∞—Ä–∞–π","fenerbahce","—Ñ–µ–Ω–µ—Ä–±–∞—Ö—á–µ","besiktas","–±–µ—à–∏–∫—Ç–∞—à","celtic","—Å–µ–ª—Ç–∏–∫","rangers","—Ä–µ–π–Ω–¥–∂–µ—Ä—Å","zenit","–∑–µ–Ω–∏—Ç","spartak","—Å–ø–∞—Ä—Ç–∞–∫","cska","—Ü—Å–∫–∞","dynamo","–¥–∏–Ω–∞–º–æ","shakhtar","—à–∞—Ö—Ç—ë—Ä","—à–∞—Ö—Ç–µ—Ä"],fe=["today","—Å–µ–≥–æ–¥–Ω—è","tonight","–≤–µ—á–µ—Ä–æ–º","—Å–µ–π—á–∞—Å","now"],xe=["tomorrow","–∑–∞–≤—Ç—Ä–∞"],pe=["best bet","–ª—É—á—à–∞—è —Å—Ç–∞–≤–∫–∞","–ª—É—á—à–∏–π –ø—Ä–æ–≥–Ω–æ–∑","top pick","value bet","—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è"];async function ge(o){const s=o.toLowerCase().trim(),a=ye(s,o);if(a)return await we(a.home,a.away);const t=fe.some(f=>s.includes(f)),r=xe.some(f=>s.includes(f)),l=pe.some(f=>s.includes(f)),i=r?"tomorrow":t||l?"today":null;let d=null,x=null;for(const[f,u]of Object.entries(ue))if(s.includes(f)){d=u,x=f;break}return i&&d?await je(d,x,i):i?await be(i==="tomorrow"?"tomorrow":"today"):d?await $e(d,x):s.includes("live")||s.includes("–ª–∞–π–≤")||s.includes("—Å–µ–π—á–∞—Å –∏–≥—Ä–∞—é—Ç")?await Ne():null}function ye(o,s){for(const l of me){const i=s.match(l);if(i){const d=(i[1]||"").trim(),x=(i[2]||"").trim();if(d.length>1&&x.length>1)return{home:ee(d),away:ee(x)}}}const a=[...he].sort((l,i)=>i.length-l.length),t=[];let r=o;for(const l of a){const i=r.indexOf(l);if(i!==-1&&(t.push({team:l,pos:i}),r=r.substring(0,i)+" ".repeat(l.length)+r.substring(i+l.length),t.length===2))break}return t.length===2?(t.sort((l,i)=>l.pos-i.pos),{home:t[0].team,away:t[1].team}):t.length===1?{home:t[0].team,away:null}:null}function ee(o){return o.replace(/^(–º–∞—Ç—á|match|game|predict|–ø—Ä–æ–≥–Ω–æ–∑|–∞–Ω–∞–ª–∏–∑|—Å—Ç–∞–≤–∫–∞|—Å—Ç–∞–≤–∫—É|bet on)\s+/i,"").replace(/\s+(–∫–∞–∫—É—é|–∫–∞–∫–æ–π|—Å—Ç–∞–≤–∫—É|—Å—Ç–∞–≤–∫–∞|–ø—Ä–æ–≥–Ω–æ–∑|prediction|bet|odds|–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç|–∫–µ—Ñ).*$/i,"").trim()}async function we(o,s){var l,i,d,x,f,u,m,w,p,M,I,O,W,z,Q,U,A,$,Y,F,R,_,B,P,K,E;if(!s)return await ve(o);let a=null;try{for(let c=0;c<7;c++){const g=new Date(Date.now()+c*864e5).toISOString().split("T")[0];if(a=await b.getMatchEnrichedData(o,s,g),a)break}}catch(c){console.error("Match enrichment (day scan) failed:",c)}if(!a)try{const c=await b.searchTeam(o);if((c==null?void 0:c.length)>0){const g=c[0].team.id,k=new Date().getFullYear(),C=await b.getFixturesByTeam(g,k,10);if((C==null?void 0:C.length)>0){const S=h=>(h||"").toLowerCase().replace(/[^a-z–∞-—è—ë0-9]/gi,""),L=S(s),n=C.find(h=>{const v=S(h.teams.home.name),y=S(h.teams.away.name);return v.includes(L)||y.includes(L)||L.includes(v)||L.includes(y)});if(n){const h=n.fixture.id,[v,y,T,D,H]=await Promise.allSettled([b.getPrediction(h),b.getOdds(h),b.getFixtureStatistics(h),b.getInjuries(h),b.getFixtureLineups(h)]);a={fixture:n,fixtureId:h,prediction:v.status==="fulfilled"?v.value:null,odds:y.status==="fulfilled"?y.value:[],stats:T.status==="fulfilled"?T.value:[],injuries:D.status==="fulfilled"?D.value:[],lineups:H.status==="fulfilled"?H.value:[]}}else return se(c[0].team.name,C)}}}catch{}if(!a)return null;const t=[],r=a.fixture;if(t.push(`Match: ${r.teams.home.name} vs ${r.teams.away.name}`),t.push(`League: ${r.league.name} (${r.league.country})`),t.push(`Date: ${new Date(r.fixture.date).toLocaleString()}`),t.push(`Status: ${r.fixture.status.long}`),r.goals.home!==null&&t.push(`Score: ${r.goals.home} - ${r.goals.away}`),a.prediction){const c=a.prediction.predictions,g=a.prediction.comparison;c&&(t.push(""),t.push("--- API Prediction Data ---"),(l=c.winner)!=null&&l.name&&t.push(`Predicted winner: ${c.winner.name} (${c.winner.comment||""})`),c.advice&&t.push(`Advice: ${c.advice}`),c.percent&&t.push(`Win probability: Home ${c.percent.home}, Draw ${c.percent.draw}, Away ${c.percent.away}`)),g&&(t.push(`Form: Home ${((i=g.form)==null?void 0:i.home)||"?"} vs Away ${((d=g.form)==null?void 0:d.away)||"?"}`),t.push(`Attack: Home ${((x=g.att)==null?void 0:x.home)||"?"} vs Away ${((f=g.att)==null?void 0:f.away)||"?"}`),t.push(`Defense: Home ${((u=g.def)==null?void 0:u.home)||"?"} vs Away ${((m=g.def)==null?void 0:m.away)||"?"}`),t.push(`Overall: Home ${((w=g.total)==null?void 0:w.home)||"?"} vs Away ${((p=g.total)==null?void 0:p.away)||"?"}`))}if(((M=a.odds)==null?void 0:M.length)>0){const c=(O=(I=a.odds[0])==null?void 0:I.bookmakers)==null?void 0:O[0];if(c){const g=(W=c.bets)==null?void 0:W.find(k=>k.name==="Match Winner");if(g){const k=(Q=(z=g.values)==null?void 0:z.find(L=>L.value==="Home"))==null?void 0:Q.odd,C=(A=(U=g.values)==null?void 0:U.find(L=>L.value==="Draw"))==null?void 0:A.odd,S=(Y=($=g.values)==null?void 0:$.find(L=>L.value==="Away"))==null?void 0:Y.odd;k&&(t.push(""),t.push("--- Bookmaker Odds ---"),t.push(`${c.name}: Home ${k}, Draw ${C}, Away ${S}`))}}}if(((F=a.stats)==null?void 0:F.length)>=2){const c=((R=a.stats[0])==null?void 0:R.statistics)||[],g=((_=a.stats[1])==null?void 0:_.statistics)||[];if(c.length>0){t.push(""),t.push("--- Match Statistics ---");for(let k=0;k<c.length;k++){const C=c[k],S=g[k];C&&S&&t.push(`${C.type}: ${C.value??0} - ${S.value??0}`)}}}if(((B=a.injuries)==null?void 0:B.length)>0){t.push(""),t.push("--- Injuries/Suspensions ---");for(const c of a.injuries.slice(0,10))t.push(`${c.team.name}: ${c.player.name} (${c.player.reason||"injured"})`)}if(((P=a.lineups)==null?void 0:P.length)>=2){t.push(""),t.push("--- Lineups ---");for(const c of a.lineups)t.push(`${c.team.name} (${c.formation}): ${(K=c.startXI)==null?void 0:K.map(g=>g.player.name).join(", ")}`),(E=c.coach)!=null&&E.name&&t.push(`Coach: ${c.coach.name}`)}return t.join(`
`)}async function be(o){const s=o==="tomorrow"?new Date(Date.now()+864e5).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];try{const a=await b.getFixturesByDate(s);if(!(a!=null&&a.length))return`No fixtures found for ${o} (${s}).`;const t=new Set([39,140,78,135,61,2,3,88,94,40,71,253]),r=a.filter(f=>t.has(f.league.id)),l=r.length>0?r:a.slice(0,30),i={};for(const f of l){const u=f.league.name;i[u]||(i[u]=[]),i[u].push(f)}const d=[`Football fixtures for ${o} (${s}):`];d.push(`Total: ${a.length} matches (showing top leagues)`),d.push("");for(const[f,u]of Object.entries(i)){d.push(`--- ${f} ---`);for(const m of u){const w=new Date(m.fixture.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),p=m.fixture.status.short;let M=`${w} | ${m.teams.home.name} vs ${m.teams.away.name}`;["1H","2H","HT","ET"].includes(p)?M+=` [LIVE ${m.goals.home}-${m.goals.away}, ${m.fixture.status.elapsed}']`:p==="FT"&&(M+=` [FT ${m.goals.home}-${m.goals.away}]`),d.push(M)}d.push("")}const x=l.filter(f=>f.fixture.status.short==="NS").slice(0,5);if(x.length>0){const u=(await Promise.allSettled(x.map(m=>b.getPrediction(m.fixture.id)))).map((m,w)=>({fixture:x[w],pred:m.status==="fulfilled"?m.value:null})).filter(m=>{var w,p;return(p=(w=m.pred)==null?void 0:w.predictions)==null?void 0:p.winner});if(u.length>0){d.push("--- AI Predictions (API-Football) ---");for(const{fixture:m,pred:w}of u){const p=w.predictions;d.push(`${m.teams.home.name} vs ${m.teams.away.name}: ${p.winner.name} (${p.advice||""})`),p.percent&&d.push(`  Probability: H ${p.percent.home} D ${p.percent.draw} A ${p.percent.away}`)}}}return d.join(`
`)}catch(a){return console.error("Day overview enrichment failed:",a),null}}async function ve(o){try{const s=await b.searchTeam(o);if(!(s!=null&&s.length))return null;const a=s[0].team,t=a.id,r=new Date().getFullYear(),l=await b.getFixturesByTeam(t,r,5);return l!=null&&l.length?se(a.name,l):`No upcoming fixtures found for ${a.name}.`}catch(s){return console.error("Single team enrichment failed:",s),null}}function se(o,s){const a=[`Upcoming fixtures for ${o}:`];a.push("");for(const t of s){const r=new Date(t.fixture.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),l=new Date(t.fixture.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),i=t.fixture.status.short;let d=`${r} ${l} | ${t.teams.home.name} vs ${t.teams.away.name} (${t.league.name})`;i==="FT"?d+=` [FT ${t.goals.home}-${t.goals.away}]`:["1H","2H","HT"].includes(i)&&(d+=` [LIVE ${t.goals.home}-${t.goals.away}]`),a.push(d)}return a.join(`
`)}async function je(o,s,a){const t=a==="tomorrow"?new Date(Date.now()+864e5).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];try{const l=(await b.getFixturesByDate(t)).filter(x=>x.league.id===o);if(l.length===0)return`IMPORTANT: There are NO ${s} matches scheduled for ${a} (${t}). Do NOT invent matches. Tell the user there are no ${s} matches ${a} and suggest checking the next matchday.`;const i=ae(l,`${s} fixtures for ${a} (${t})`),d=l.filter(x=>x.fixture.status.short==="NS").slice(0,5);if(d.length>0){const f=(await Promise.allSettled(d.map(u=>b.getPrediction(u.fixture.id)))).map((u,m)=>({fixture:d[m],pred:u.status==="fulfilled"?u.value:null})).filter(u=>{var m,w;return(w=(m=u.pred)==null?void 0:m.predictions)==null?void 0:w.winner});if(f.length>0){const u=[`
--- API Predictions ---`];for(const{fixture:m,pred:w}of f){const p=w.predictions;u.push(`${m.teams.home.name} vs ${m.teams.away.name}: ${p.winner.name} (${p.advice||""})`),p.percent&&u.push(`  Probability: H ${p.percent.home} D ${p.percent.draw} A ${p.percent.away}`)}return i+`
`+u.join(`
`)}}return i}catch(r){return console.error("League day enrichment failed:",r),null}}async function $e(o,s){try{for(let a=0;a<7;a++){const t=new Date(Date.now()+a*864e5).toISOString().split("T")[0],l=(await b.getFixturesByDate(t)).filter(i=>i.league.id===o);if(l.length>0)return ae(l,`${s} fixtures for ${a===0?"today":a===1?"tomorrow":t}`)}return`No ${s} fixtures found in the next 7 days.`}catch(a){return console.error("League enrichment failed:",a),null}}function ae(o,s){const a=[`${s} (${o.length} matches):`];a.push("");for(const t of o){const r=new Date(t.fixture.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=t.fixture.status.short;let i=`${r} | ${t.teams.home.name} vs ${t.teams.away.name}`;["1H","2H","HT","ET"].includes(l)?i+=` [LIVE ${t.goals.home}-${t.goals.away}, ${t.fixture.status.elapsed}']`:l==="FT"&&(i+=` [FT ${t.goals.home}-${t.goals.away}]`),a.push(i)}return a.join(`
`)}async function Ne(){try{const o=await b.getLiveFixtures();if(!(o!=null&&o.length))return"No live matches right now.";const s=[`Live matches right now (${o.length} total):`];s.push("");const a={};for(const t of o){const r=t.league.name;a[r]||(a[r]=[]),a[r].push(t)}for(const[t,r]of Object.entries(a)){s.push(`--- ${t} ---`);for(const l of r){const i=l.fixture.status.elapsed,d=l.fixture.status.short;let x=`${i}'`;d==="HT"&&(x="HT"),s.push(`${x} | ${l.teams.home.name} ${l.goals.home} - ${l.goals.away} ${l.teams.away.name}`)}s.push("")}return s.join(`
`)}catch(o){return console.error("Live enrichment failed:",o),null}}const G="ai_chat_history",ke=24*60*60*1e3,Ce=[{key:"liveMatchesNow",emoji:"üî¥"},{key:"premierLeagueToday",emoji:"üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø"},{key:"laLigaToday",emoji:"üá™üá∏"},{key:"championsLeague",emoji:"‚≠ê"},{key:"serieAToday",emoji:"üáÆüáπ"}];function Te(){const o=re(),{t:s,i18n:a}=ie(),{user:t}=oe(),{advertiser:r,trackClick:l}=le(),[i,d]=j.useState([]),[x,f]=j.useState(""),[u,m]=j.useState(!1),[w,p]=j.useState(!1),[M,I]=j.useState(!0),[O,W]=j.useState(!1),[z,Q]=j.useState(0),[U,A]=j.useState(!1),{keyboardOpen:$,viewportHeight:Y}=ce(),{hideBottomNav:F,showBottomNav:R}=de(),[_,B]=j.useState(null),P=j.useRef(null),K=j.useRef(null),E=t==null?void 0:t.is_premium;j.useEffect(()=>{if($)return F(),()=>R()},[$,F,R]),j.useEffect(()=>{if(E){B(999);return}V.getChatLimit().then(n=>B(n.remaining??n.limit??3)).catch(()=>B(3))},[E]);const c=()=>{try{const n=localStorage.getItem(G);if(!n)return null;const{messages:h,timestamp:v}=JSON.parse(n);return Date.now()-v>ke?(localStorage.removeItem(G),null):h}catch{return null}},g=n=>{try{const h=n.filter(v=>v.id!=="welcome");h.length>0&&localStorage.setItem(G,JSON.stringify({messages:h,timestamp:Date.now()}))}catch(h){console.error("Failed to save chat history:",h)}};j.useEffect(()=>{const n=c(),h={id:"welcome",role:"assistant",content:s("aiChat.welcomeMessage")};n&&n.length>0?(d([h,...n]),I(!1)):d([h])},[]),j.useEffect(()=>{var n;(n=P.current)==null||n.scrollIntoView({behavior:"smooth"})},[i,$]);const k=()=>{const n=(t==null?void 0:t.min_odds)||1.5,h=(t==null?void 0:t.max_odds)||3,v=(t==null?void 0:t.risk_level)||"medium",y={low:"Conservative - safer bets, favorites, double chance. 1-2% stakes.",medium:"Balanced - standard 1X2, over/under, BTTS. 2-5% stakes.",high:"Aggressive - value picks, accumulators, correct scores. 5-10% stakes."};return`

[USER BETTING PREFERENCES: Odds range ${n}-${h}, Risk: ${v.toUpperCase()} (${y[v]}). Only recommend bets within this range. IMPORTANT: If you recommend a bet, end with exactly this format: [BET] Bet Type @ Odds. Example: [BET] Over 2.5 Goals @ 1.85]`},C=n=>{if(!n)return null;const h=n.match(/\[BET\]\s*(.+?)\s*@\s*([\d.]+)/i);return h?{type:h[1].trim(),odds:parseFloat(h[2]),homeTeam:"Match",awayTeam:"",league:"",date:new Date().toLocaleDateString("en-GB")}:null},S=async n=>{var v;if(!n.trim()||u)return;if(!E&&_!==null&&_<=0){A(!0);return}const h={id:Date.now(),role:"user",content:n};d(y=>[...y,h]),f(""),I(!1),m(!0);try{const y=i.filter(N=>N.id!=="welcome"&&N.role&&N.content).map(N=>({role:String(N.role),content:String(N.content)})),T=n+k();y.push({role:"user",content:T}),p(!0);let D=null;try{const N=await ge(n);D=N?String(N):null}catch(N){console.error("Enrichment failed:",N)}p(!1);const H=((v=a.language)==null?void 0:v.slice(0,2))||"en",X=await V.aiChat(T,y,D,H);E||V.getChatLimit().then(N=>B(N.remaining??N.limit??0)).catch(()=>{});const q=z+1;Q(q);const ne=C(X.response),Z=[...i,h,{id:Date.now()+1,role:"assistant",content:X.response,hasData:!!D,showAd:q%2===0,bet:ne}];d(Z),g(Z)}catch(y){console.error("AI Chat error:",y);const T=typeof y=="string"?y:(y==null?void 0:y.message)||String(y);let D;T.includes("402")||T.includes("limit")?D=s("aiChat.errLimit"):T.includes("401")||T.includes("Unauthorized")?D=s("aiChat.errAuth"):T.includes("500")?D=s("aiChat.errServer"):D=`${s("aiChat.error")}: ${T}`,d(H=>[...H,{id:Date.now()+1,role:"assistant",content:D}])}finally{m(!1),p(!1)}},L=()=>{d([{id:"welcome",role:"assistant",content:s("aiChat.chatCleared")}]),I(!0),localStorage.removeItem(G)};return e.jsxs("div",{className:"flex flex-col",style:{height:$?`${Y}px`:"100%"},children:[e.jsxs("div",{className:`bg-white px-4 flex items-center justify-between border-b border-gray-100 shrink-0 ${$?"py-1.5":"py-3"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!$&&e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:`font-bold text-gray-900 leading-none ${$?"text-sm":"text-lg"}`,children:s("aiChat.title")}),!$&&e.jsx("p",{className:"text-[10px] text-green-500 font-medium",children:s("aiChat.realTimeData")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!$&&e.jsxs("span",{className:"flex items-center gap-1 bg-primary-50 text-primary-600 text-sm font-medium px-2.5 py-1 rounded-lg",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),_]}),e.jsx("button",{onClick:L,className:"w-8 h-8 flex items-center justify-center text-gray-400",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-contain px-5 py-4 space-y-4",children:[i.map(n=>e.jsxs("div",{children:[e.jsx("div",{className:`flex ${n.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] rounded-2xl p-4 text-sm leading-relaxed ${n.role==="user"?"bg-primary-600 text-white rounded-tr-sm":"bg-white text-gray-800 rounded-tl-sm shadow-sm"}`,children:[n.hasData&&n.role==="assistant"&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-green-50 text-green-600 font-medium flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s("aiChat.realTimeData")]}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-primary-50 text-primary-600 font-medium",children:s("aiChat.aiAnalysis")})]}),e.jsx(Se,{content:n.content,isUser:n.role==="user"}),n.bet&&n.role==="assistant"&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("button",{onClick:()=>o("/promo?banner=aichat_bet_card"),className:"w-full text-left relative overflow-hidden rounded-xl shadow-lg",style:{background:"#059669"},children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(110deg, transparent 20%, rgba(255,255,255,0.15) 40%, rgba(255,255,255,0.25) 50%, rgba(255,255,255,0.15) 60%, transparent 80%)",animation:"shimmer 5s infinite",backgroundSize:"200% 100%"}}),e.jsxs("div",{className:"relative p-3 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-4 h-4 text-emerald-200",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-100",children:s("aiChat.recommended")})]}),e.jsx("span",{className:"bg-white text-emerald-700 text-sm font-bold px-2.5 py-0.5 rounded-lg shadow",children:n.bet.odds.toFixed(2)})]}),e.jsx("p",{className:"text-sm font-semibold text-white",children:n.bet.type})]}),e.jsx("div",{className:"relative px-3 py-3",style:{background:"rgba(0,0,0,0.15)",borderTop:"1px solid rgba(255,255,255,0.1)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-200 text-xs font-medium uppercase tracking-wide",children:s("advertiser.freeBetLabel")}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-white font-bold text-lg",children:[r.currency,"1,500"]}),e.jsx("span",{className:"text-emerald-200 text-sm",children:"√ó"}),e.jsx("span",{className:"text-white font-semibold",children:n.bet.odds.toFixed(2)})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-emerald-200 text-xs",children:"="}),e.jsxs("span",{className:"font-bold text-lg",style:{color:"#fbbf24"},children:[r.currency,(1500*n.bet.odds).toLocaleString()]}),e.jsx("span",{className:"text-emerald-200 text-xs ml-1",children:s("advertiser.potentialWin")})]}),e.jsx("p",{className:"text-white text-xs font-medium mt-1.5 opacity-90",children:s("advertiser.betAndTakeIt")})]}),e.jsx("svg",{className:"w-5 h-5 text-white/70",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})})]})}),!n.bet&&n.role==="assistant"&&n.id!=="welcome"&&e.jsxs("button",{onClick:()=>o("/promo?banner=aichat_promo_link"),className:"mt-3 pt-2 border-t border-gray-100 w-full flex items-center justify-center gap-1.5 text-xs text-emerald-600 font-medium hover:text-emerald-700",children:[s("advertiser.freeBet",{bonus:r.bonusAmount}),e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})]})}),n.showAd&&e.jsxs("div",{className:"mt-3 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-4 border border-emerald-100",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-white font-bold text-xs",children:r.currency})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s("aiChat.betOnPredictions")}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:s("aiChat.getBonus",{bonus:r.bonusAmount,name:r.name})})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{onClick:()=>o("/promo?banner=aichat_ad_get_bonus"),className:"flex-1 bg-emerald-600 text-white text-xs font-semibold py-2 px-3 rounded-lg text-center",children:s("aiChat.getBonus2")}),e.jsx("button",{onClick:()=>o("/promo?banner=aichat_ad_learn_more"),className:"px-3 py-2 bg-white text-gray-700 text-xs font-medium rounded-lg border border-gray-200",children:s("aiChat.learnMore")})]})]})]},n.id)),u&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white rounded-2xl rounded-tl-sm p-4 shadow-sm",children:w?e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(J,{size:"xs"}),s("aiChat.fetchingData")]}):e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(J,{size:"xs"}),s("aiChat.analyzing")]})})}),e.jsx("div",{ref:P})]}),M&&i.length<=1&&!$&&e.jsxs("div",{className:"px-5 pb-2 shrink-0",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("button",{onClick:()=>o("/promo?banner=aichat_bonus_button"),className:"flex-1 text-sm px-3 py-2.5 rounded-xl font-medium bg-emerald-600 text-white",children:s("advertiser.bonusButton",{bonus:r.bonusAmount})}),e.jsxs("button",{onClick:()=>S(s("aiChat.todaysBestBets")),disabled:u,className:"flex-1 text-sm px-3 py-2.5 rounded-xl font-medium disabled:opacity-50 bg-primary-600 text-white",children:["üéØ ",s("advertiser.bestBets")]})]}),O&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Ce.map(n=>e.jsxs("button",{onClick:()=>S(s(`aiChat.${n.key}`)),disabled:u,className:"bg-white text-gray-700 text-sm px-3 py-1.5 rounded-full border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:[n.emoji," ",s(`aiChat.${n.key}`)]},n.key))}),e.jsx("button",{onClick:()=>W(!O),className:"w-full flex items-center justify-center gap-1.5 text-xs text-gray-500 py-2 hover:text-gray-700",children:O?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),s("aiChat.showLess")]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),s("aiChat.moreQuestions")]})})]}),e.jsx("div",{className:`px-4 bg-white border-t border-gray-100 shrink-0 ${$?"py-1.5":"py-2.5"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:K,type:"text",value:x,onChange:n=>f(n.target.value),onKeyDown:n=>n.key==="Enter"&&!u&&S(x),placeholder:s("aiChat.inputPlaceholder"),className:"flex-1 bg-gray-50 rounded-full px-4 py-2.5 text-base focus:outline-none focus:ring-2 focus:ring-primary-200",disabled:u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other"}),e.jsx("button",{onClick:()=>S(x),disabled:u||!x.trim(),className:"w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center shrink-0 disabled:opacity-50",children:u?e.jsx(J,{size:"xs",light:!0}):e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})})})]})}),U&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-6",onClick:()=>A(!1),children:[e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-sm p-5 shadow-xl",onClick:n=>n.stopPropagation(),children:[e.jsx("button",{onClick:()=>A(!1),className:"absolute top-3 right-3 text-gray-400",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s("aiChat.freeLimitReached")}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s("aiChat.usedAllRequests",{count:0})})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 mb-1",children:s("aiChat.unlockUnlimitedAI")}),e.jsx("p",{className:"text-xs text-green-600",children:s("aiChat.depositForUnlimited",{name:r.name})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>{A(!1),o("/promo?banner=aichat_limit_unlock")},className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold py-3 rounded-xl flex items-center justify-center gap-2 text-sm",children:s("aiChat.depositAndUnlock")}),e.jsx("button",{onClick:()=>A(!1),className:"w-full text-gray-500 text-sm py-2",children:s("aiChat.maybeLater")})]})]})]})]})}function te(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Se({content:o,isUser:s}){if(!o)return null;const a=o.replace(/\[BET\]\s*.+?@\s*[\d.]+/gi,"").trim();return e.jsx("div",{className:"space-y-0.5",children:a.split(`
`).map((t,r)=>{if(t==="")return e.jsx("div",{className:"h-1.5"},r);if(t.match(/^---+$/))return e.jsx("hr",{className:`my-2 ${s?"border-white/20":"border-gray-100"}`},r);if(t.startsWith("---")&&t.endsWith("---")){const i=t.replace(/^-+\s*/,"").replace(/\s*-+$/,"");return e.jsx("p",{className:`font-semibold text-xs uppercase mt-2 mb-1 ${s?"text-white/70":"text-gray-400"}`,children:i},r)}if(t.startsWith("‚Ä¢ ")||t.startsWith("- ")||t.startsWith("* ")){const i=t.replace(/^[\u2022\-*]\s+/,""),d=te(i).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return e.jsxs("div",{className:"flex gap-2 pl-1",children:[e.jsx("span",{className:s?"text-white/50":"text-gray-300",children:"‚Ä¢"}),e.jsx("p",{dangerouslySetInnerHTML:{__html:d}})]},r)}const l=te(t).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return e.jsx("p",{dangerouslySetInnerHTML:{__html:l}},r)})})}export{Te as default};
