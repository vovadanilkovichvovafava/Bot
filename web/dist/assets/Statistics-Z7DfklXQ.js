import{u as N,a as b,c as y,r as i,v as w,n as k,o as L,j as e}from"./index-GQvxGpri.js";function F(){const n=N(),{t:s}=b(),{user:a}=y(),[o,h]=i.useState([]),[C,j]=i.useState(!0),[u,f]=i.useState(null),l=u||{total:0,correct:0,wrong:0,pending:0,accuracy:0},r=l.total||(a==null?void 0:a.total_predictions)||0,d=l.correct||(a==null?void 0:a.correct_predictions)||0,p=l.wrong||r-d,c=l.total>0?l.accuracy.toFixed(1):r>0?(d/r*100).toFixed(1):"0.0";i.useEffect(()=>{v()},[]);const v=async()=>{try{await w()}catch{}f(k()),h(L().slice(0,5)),j(!1)},x=60,m=2*Math.PI*x,g=parseFloat(c)/100*m;return e.jsxs("div",{className:"min-h-screen bg-[#F0F2F5] pb-8",children:[e.jsx("div",{className:"bg-white px-5 pt-4 pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>n(-1),className:"w-10 h-10 flex items-center justify-center -ml-2",children:e.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),e.jsx("h1",{className:"text-lg font-bold",children:s("statistics.title")})]})}),e.jsxs("div",{className:"px-5 pt-4 space-y-4",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),e.jsx("span",{className:"font-bold",children:s("statistics.aiPredictions")})]}),!(a!=null&&a.is_premium)&&e.jsx("span",{className:"badge-pro",children:s("statistics.pro")})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative w-36 h-36",children:[e.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 140 140",children:[e.jsx("circle",{cx:"70",cy:"70",r:x,fill:"none",stroke:"#E5E7EB",strokeWidth:"8"}),e.jsx("circle",{cx:"70",cy:"70",r:x,fill:"none",stroke:parseFloat(c)>50?"#4CAF50":"#F44336",strokeWidth:"8",strokeDasharray:m,strokeDashoffset:m-g,strokeLinecap:"round"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs("span",{className:`text-3xl font-bold ${parseFloat(c)>50?"text-green-500":"text-red-500"}`,children:[c,"%"]}),e.jsx("span",{className:"text-xs text-gray-400",children:s("statistics.accuracy")})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-primary-600",children:r}),e.jsx("p",{className:"text-xs text-gray-500",children:s("statistics.total")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-green-500",children:d}),e.jsx("p",{className:"text-xs text-gray-500",children:s("statistics.correct")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-amber-500",children:p}),e.jsx("p",{className:"text-xs text-gray-500",children:s("statistics.wrong")})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"font-bold",children:s("statistics.recentPredictions")})]}),o.length>0&&e.jsx("button",{onClick:()=>n("/prediction-history"),className:"text-primary-600 text-sm font-semibold",children:s("statistics.viewAll")})]}),o.length===0?e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[e.jsx("svg",{className:"w-10 h-10 text-gray-300 mx-auto mb-2",fill:"none",stroke:"currentColor",strokeWidth:"1",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"font-semibold text-gray-700",children:s("statistics.noPredictionsYet")}),e.jsx("p",{className:"text-sm text-gray-400",children:s("statistics.noPredictionsDesc")})]}):e.jsx("div",{className:"space-y-2",children:o.map(t=>e.jsxs("div",{onClick:()=>n(`/match/${t.matchId}`),className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"shrink-0",children:t.result?t.result.isCorrect?e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[t.homeTeam.name," vs ",t.awayTeam.name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.prediction.winnerName," (",t.prediction.confidence,"%)"]})]}),t.result&&e.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[t.result.homeGoals,"-",t.result.awayGoals]})]},t.id))})]}),l.pending>0&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4 flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-500 shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-amber-800",children:s("statistics.pendingAwaiting",{count:l.pending})}),e.jsx("p",{className:"text-xs text-amber-600",children:s("statistics.resultsVerifiedAuto")})]})]})]})]})}export{F as default};
