import{f as N,u as ne,a as re,c as ie,b as oe,r as b,h as le,i as ce,e as V,j as e,F as J}from"./index-B6Rlwd4W.js";const de={"premier league":39,epl:39,"la liga":140,bundesliga:78,"serie a":135,"ligue 1":61,"champions league":2,ucl:2,"europa league":3,eredivisie:88,"primeira liga":94,championship:40},ue=[/(.+?)\s+(?:vs\.?|versus|against|v\.?|‚Äî)\s+(.+)/i,/(?:–º–∞—Ç—á|match|game|predict|analyse|analyze|–ø—Ä–æ–≥–Ω–æ–∑|–∞–Ω–∞–ª–∏–∑)\s+(.+?)\s+(?:vs\.?|v\.?|‚Äî)\s+(.+)/i],me=["manchester united","man united","man utd","–º–∞–Ω—á–µ—Å—Ç–µ—Ä —é–Ω–∞–π—Ç–µ–¥","–º–∞–Ω —é–Ω–∞–π—Ç–µ–¥","manchester city","man city","–º–∞–Ω—á–µ—Å—Ç–µ—Ä —Å–∏—Ç–∏","–º–∞–Ω —Å–∏—Ç–∏","arsenal","–∞—Ä—Å–µ–Ω–∞–ª","chelsea","—á–µ–ª—Å–∏","liverpool","–ª–∏–≤–µ—Ä–ø—É–ª—å","tottenham","tottenham hotspur","spurs","—Ç–æ—Ç—Ç–µ–Ω—Ö–µ–º","—Ç–æ—Ç—Ç–µ–Ω—Ö—ç–º","—Ç–æ—Ç–Ω–µ–º","newcastle","newcastle united","–Ω—å—é–∫–∞—Å–ª","aston villa","–∞—Å—Ç–æ–Ω –≤–∏–ª–ª–∞","west ham","–≤–µ—Å—Ç —Ö—ç–º","–≤–µ—Å—Ç —Ö–∞–º","brighton","–±—Ä–∞–π—Ç–æ–Ω","crystal palace","–∫—Ä–∏—Å—Ç–∞–ª –ø—ç–ª–∞—Å","everton","—ç–≤–µ—Ä—Ç–æ–Ω","fulham","—Ñ—É–ª—Ö—ç–º","—Ñ—É–ª—Ö–µ–º","wolves","wolverhampton","–≤—É–ª–≤–µ—Ä—Ö—ç–º–ø—Ç–æ–Ω","bournemouth","–±–æ—Ä–Ω–º—É—Ç","nottingham forest","–Ω–æ—Ç—Ç–∏–Ω–≥–µ–º","brentford","–±—Ä–µ–Ω—Ç—Ñ–æ—Ä–¥","burnley","–±—ë—Ä–Ω–ª–∏","luton","–ª—É—Ç–æ–Ω","sheffield united","—à–µ—Ñ—Ñ–∏–ª–¥","real madrid","—Ä–µ–∞–ª –º–∞–¥—Ä–∏–¥","—Ä–µ–∞–ª","barcelona","–±–∞—Ä—Å–µ–ª–æ–Ω–∞","–±–∞—Ä—Å–∞","atletico madrid","–∞—Ç–ª–µ—Ç–∏–∫–æ","sevilla","—Å–µ–≤–∏–ª—å—è","real sociedad","—Å–æ—Å—å–µ–¥–∞–¥","villarreal","–≤–∏–ª—å—è—Ä—Ä–µ–∞–ª","athletic bilbao","–∞—Ç–ª–µ—Ç–∏–∫ –±–∏–ª—å–±–∞–æ","real betis","–±–µ—Ç–∏—Å","valencia","–≤–∞–ª–µ–Ω—Å–∏—è","bayern munich","bayern","–±–∞–≤–∞—Ä–∏—è","borussia dortmund","dortmund","–¥–æ—Ä—Ç–º—É–Ω–¥","–±–æ—Ä—É—Å—Å–∏—è","rb leipzig","–ª–µ–π–ø—Ü–∏–≥","bayer leverkusen","leverkusen","–ª–µ–≤–µ—Ä–∫—É–∑–µ–Ω","juventus","—é–≤–µ–Ω—Ç—É—Å","inter milan","inter","–∏–Ω—Ç–µ—Ä","ac milan","milan","–º–∏–ª–∞–Ω","napoli","–Ω–∞–ø–æ–ª–∏","roma","—Ä–æ–º–∞","lazio","–ª–∞—Ü–∏–æ","atalanta","–∞—Ç–∞–ª–∞–Ω—Ç–∞","fiorentina","—Ñ–∏–æ—Ä–µ–Ω—Ç–∏–Ω–∞","psg","paris saint-germain","paris saint germain","–ø–∞—Ä–∏ —Å–µ–Ω-–∂–µ—Ä–º–µ–Ω","–ø—Å–∂","marseille","–º–∞—Ä—Å–µ–ª—å","lyon","–ª–∏–æ–Ω","monaco","–º–æ–Ω–∞–∫–æ","lille","–ª–∏–ª–ª—å","benfica","–±–µ–Ω—Ñ–∏–∫–∞","porto","–ø–æ—Ä—Ç—É","sporting","—Å–ø–æ—Ä—Ç–∏–Ω–≥","ajax","–∞—è–∫—Å","psv","–ø—Å–≤","feyenoord","—Ñ–µ–π–µ–Ω–æ–æ—Ä–¥","galatasaray","–≥–∞–ª–∞—Ç–∞—Å–∞—Ä–∞–π","fenerbahce","—Ñ–µ–Ω–µ—Ä–±–∞—Ö—á–µ","besiktas","–±–µ—à–∏–∫—Ç–∞—à","celtic","—Å–µ–ª—Ç–∏–∫","rangers","—Ä–µ–π–Ω–¥–∂–µ—Ä—Å","zenit","–∑–µ–Ω–∏—Ç","spartak","—Å–ø–∞—Ä—Ç–∞–∫","cska","—Ü—Å–∫–∞","dynamo","–¥–∏–Ω–∞–º–æ","shakhtar","—à–∞—Ö—Ç—ë—Ä","—à–∞—Ö—Ç–µ—Ä"],he=["today","—Å–µ–≥–æ–¥–Ω—è","tonight","–≤–µ—á–µ—Ä–æ–º","—Å–µ–π—á–∞—Å","now"],fe=["tomorrow","–∑–∞–≤—Ç—Ä–∞"],xe=["best bet","–ª—É—á—à–∞—è —Å—Ç–∞–≤–∫–∞","–ª—É—á—à–∏–π –ø—Ä–æ–≥–Ω–æ–∑","top pick","value bet","—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è"];async function pe(o){const s=o.toLowerCase().trim(),a=ge(s,o);if(a)return await ye(a.home,a.away);const t=he.some(r=>s.includes(r)),i=fe.some(r=>s.includes(r)),c=xe.some(r=>s.includes(r));if(t||i||c)return await we(i?"tomorrow":"today");for(const[r,d]of Object.entries(de))if(s.includes(r))return await ve(d,r);return s.includes("live")||s.includes("–ª–∞–π–≤")||s.includes("—Å–µ–π—á–∞—Å –∏–≥—Ä–∞—é—Ç")?await Ne():null}function ge(o,s){for(const c of ue){const r=s.match(c);if(r){const d=(r[1]||"").trim(),g=(r[2]||"").trim();if(d.length>1&&g.length>1)return{home:ee(d),away:ee(g)}}}const a=[...me].sort((c,r)=>r.length-c.length),t=[];let i=o;for(const c of a){const r=i.indexOf(c);if(r!==-1&&(t.push({team:c,pos:r}),i=i.substring(0,r)+" ".repeat(c.length)+i.substring(r+c.length),t.length===2))break}return t.length===2?(t.sort((c,r)=>c.pos-r.pos),{home:t[0].team,away:t[1].team}):t.length===1?{home:t[0].team,away:null}:null}function ee(o){return o.replace(/^(–º–∞—Ç—á|match|game|predict|–ø—Ä–æ–≥–Ω–æ–∑|–∞–Ω–∞–ª–∏–∑|—Å—Ç–∞–≤–∫–∞|—Å—Ç–∞–≤–∫—É|bet on)\s+/i,"").replace(/\s+(–∫–∞–∫—É—é|–∫–∞–∫–æ–π|—Å—Ç–∞–≤–∫—É|—Å—Ç–∞–≤–∫–∞|–ø—Ä–æ–≥–Ω–æ–∑|prediction|bet|odds|–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç|–∫–µ—Ñ).*$/i,"").trim()}async function ye(o,s){var c,r,d,g,y,f,m,$,p,M,_,I,z,P,U,Y,B,v,Q,F,R,O,E,W,K,A;if(!s)return await be(o);let a=null;try{for(let l=0;l<7;l++){const h=new Date(Date.now()+l*864e5).toISOString().split("T")[0];if(a=await N.getMatchEnrichedData(o,s,h),a)break}}catch(l){console.error("Match enrichment (day scan) failed:",l)}if(!a)try{const l=await N.searchTeam(o);if((l==null?void 0:l.length)>0){const h=l[0].team.id,k=new Date().getFullYear(),C=await N.getFixturesByTeam(h,k,10);if((C==null?void 0:C.length)>0){const L=u=>(u||"").toLowerCase().replace(/[^a-z–∞-—è—ë0-9]/gi,""),S=L(s),n=C.find(u=>{const w=L(u.teams.home.name),x=L(u.teams.away.name);return w.includes(S)||x.includes(S)||S.includes(w)||S.includes(x)});if(n){const u=n.fixture.id,[w,x,T,D,H]=await Promise.allSettled([N.getPrediction(u),N.getOdds(u),N.getFixtureStatistics(u),N.getInjuries(u),N.getFixtureLineups(u)]);a={fixture:n,fixtureId:u,prediction:w.status==="fulfilled"?w.value:null,odds:x.status==="fulfilled"?x.value:[],stats:T.status==="fulfilled"?T.value:[],injuries:D.status==="fulfilled"?D.value:[],lineups:H.status==="fulfilled"?H.value:[]}}else return se(l[0].team.name,C)}}}catch{}if(!a)return null;const t=[],i=a.fixture;if(t.push(`Match: ${i.teams.home.name} vs ${i.teams.away.name}`),t.push(`League: ${i.league.name} (${i.league.country})`),t.push(`Date: ${new Date(i.fixture.date).toLocaleString()}`),t.push(`Status: ${i.fixture.status.long}`),i.goals.home!==null&&t.push(`Score: ${i.goals.home} - ${i.goals.away}`),a.prediction){const l=a.prediction.predictions,h=a.prediction.comparison;l&&(t.push(""),t.push("--- API Prediction Data ---"),(c=l.winner)!=null&&c.name&&t.push(`Predicted winner: ${l.winner.name} (${l.winner.comment||""})`),l.advice&&t.push(`Advice: ${l.advice}`),l.percent&&t.push(`Win probability: Home ${l.percent.home}, Draw ${l.percent.draw}, Away ${l.percent.away}`)),h&&(t.push(`Form: Home ${((r=h.form)==null?void 0:r.home)||"?"} vs Away ${((d=h.form)==null?void 0:d.away)||"?"}`),t.push(`Attack: Home ${((g=h.att)==null?void 0:g.home)||"?"} vs Away ${((y=h.att)==null?void 0:y.away)||"?"}`),t.push(`Defense: Home ${((f=h.def)==null?void 0:f.home)||"?"} vs Away ${((m=h.def)==null?void 0:m.away)||"?"}`),t.push(`Overall: Home ${(($=h.total)==null?void 0:$.home)||"?"} vs Away ${((p=h.total)==null?void 0:p.away)||"?"}`))}if(((M=a.odds)==null?void 0:M.length)>0){const l=(I=(_=a.odds[0])==null?void 0:_.bookmakers)==null?void 0:I[0];if(l){const h=(z=l.bets)==null?void 0:z.find(k=>k.name==="Match Winner");if(h){const k=(U=(P=h.values)==null?void 0:P.find(S=>S.value==="Home"))==null?void 0:U.odd,C=(B=(Y=h.values)==null?void 0:Y.find(S=>S.value==="Draw"))==null?void 0:B.odd,L=(Q=(v=h.values)==null?void 0:v.find(S=>S.value==="Away"))==null?void 0:Q.odd;k&&(t.push(""),t.push("--- Bookmaker Odds ---"),t.push(`${l.name}: Home ${k}, Draw ${C}, Away ${L}`))}}}if(((F=a.stats)==null?void 0:F.length)>=2){const l=((R=a.stats[0])==null?void 0:R.statistics)||[],h=((O=a.stats[1])==null?void 0:O.statistics)||[];if(l.length>0){t.push(""),t.push("--- Match Statistics ---");for(let k=0;k<l.length;k++){const C=l[k],L=h[k];C&&L&&t.push(`${C.type}: ${C.value??0} - ${L.value??0}`)}}}if(((E=a.injuries)==null?void 0:E.length)>0){t.push(""),t.push("--- Injuries/Suspensions ---");for(const l of a.injuries.slice(0,10))t.push(`${l.team.name}: ${l.player.name} (${l.player.reason||"injured"})`)}if(((W=a.lineups)==null?void 0:W.length)>=2){t.push(""),t.push("--- Lineups ---");for(const l of a.lineups)t.push(`${l.team.name} (${l.formation}): ${(K=l.startXI)==null?void 0:K.map(h=>h.player.name).join(", ")}`),(A=l.coach)!=null&&A.name&&t.push(`Coach: ${l.coach.name}`)}return t.join(`
`)}async function we(o){const s=o==="tomorrow"?new Date(Date.now()+864e5).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];try{const a=await N.getFixturesByDate(s);if(!(a!=null&&a.length))return`No fixtures found for ${o} (${s}).`;const t=new Set([39,140,78,135,61,2,3,88,94,40,71,253]),i=a.filter(y=>t.has(y.league.id)),c=i.length>0?i:a.slice(0,30),r={};for(const y of c){const f=y.league.name;r[f]||(r[f]=[]),r[f].push(y)}const d=[`Football fixtures for ${o} (${s}):`];d.push(`Total: ${a.length} matches (showing top leagues)`),d.push("");for(const[y,f]of Object.entries(r)){d.push(`--- ${y} ---`);for(const m of f){const $=new Date(m.fixture.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),p=m.fixture.status.short;let M=`${$} | ${m.teams.home.name} vs ${m.teams.away.name}`;["1H","2H","HT","ET"].includes(p)?M+=` [LIVE ${m.goals.home}-${m.goals.away}, ${m.fixture.status.elapsed}']`:p==="FT"&&(M+=` [FT ${m.goals.home}-${m.goals.away}]`),d.push(M)}d.push("")}const g=c.filter(y=>y.fixture.status.short==="NS").slice(0,5);if(g.length>0){const f=(await Promise.allSettled(g.map(m=>N.getPrediction(m.fixture.id)))).map((m,$)=>({fixture:g[$],pred:m.status==="fulfilled"?m.value:null})).filter(m=>{var $,p;return(p=($=m.pred)==null?void 0:$.predictions)==null?void 0:p.winner});if(f.length>0){d.push("--- AI Predictions (API-Football) ---");for(const{fixture:m,pred:$}of f){const p=$.predictions;d.push(`${m.teams.home.name} vs ${m.teams.away.name}: ${p.winner.name} (${p.advice||""})`),p.percent&&d.push(`  Probability: H ${p.percent.home} D ${p.percent.draw} A ${p.percent.away}`)}}}return d.join(`
`)}catch(a){return console.error("Day overview enrichment failed:",a),null}}async function be(o){try{const s=await N.searchTeam(o);if(!(s!=null&&s.length))return null;const a=s[0].team,t=a.id,i=new Date().getFullYear(),c=await N.getFixturesByTeam(t,i,5);return c!=null&&c.length?se(a.name,c):`No upcoming fixtures found for ${a.name}.`}catch(s){return console.error("Single team enrichment failed:",s),null}}function se(o,s){const a=[`Upcoming fixtures for ${o}:`];a.push("");for(const t of s){const i=new Date(t.fixture.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),c=new Date(t.fixture.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),r=t.fixture.status.short;let d=`${i} ${c} | ${t.teams.home.name} vs ${t.teams.away.name} (${t.league.name})`;r==="FT"?d+=` [FT ${t.goals.home}-${t.goals.away}]`:["1H","2H","HT"].includes(r)&&(d+=` [LIVE ${t.goals.home}-${t.goals.away}]`),a.push(d)}return a.join(`
`)}async function ve(o,s){try{for(let a=0;a<7;a++){const t=new Date(Date.now()+a*864e5).toISOString().split("T")[0],c=(await N.getFixturesByDate(t)).filter(r=>r.league.id===o);if(c.length>0)return je(c,`${s} fixtures for ${a===0?"today":a===1?"tomorrow":t}`)}return`No ${s} fixtures found in the next 7 days.`}catch(a){return console.error("League enrichment failed:",a),null}}function je(o,s){const a=[`${s} (${o.length} matches):`];a.push("");for(const t of o){const i=new Date(t.fixture.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c=t.fixture.status.short;let r=`${i} | ${t.teams.home.name} vs ${t.teams.away.name}`;["1H","2H","HT","ET"].includes(c)?r+=` [LIVE ${t.goals.home}-${t.goals.away}, ${t.fixture.status.elapsed}']`:c==="FT"&&(r+=` [FT ${t.goals.home}-${t.goals.away}]`),a.push(r)}return a.join(`
`)}async function Ne(){try{const o=await N.getLiveFixtures();if(!(o!=null&&o.length))return"No live matches right now.";const s=[`Live matches right now (${o.length} total):`];s.push("");const a={};for(const t of o){const i=t.league.name;a[i]||(a[i]=[]),a[i].push(t)}for(const[t,i]of Object.entries(a)){s.push(`--- ${t} ---`);for(const c of i){const r=c.fixture.status.elapsed,d=c.fixture.status.short;let g=`${r}'`;d==="HT"&&(g="HT"),s.push(`${g} | ${c.teams.home.name} ${c.goals.home} - ${c.goals.away} ${c.teams.away.name}`)}s.push("")}return s.join(`
`)}catch(o){return console.error("Live enrichment failed:",o),null}}const G="ai_chat_history",$e=24*60*60*1e3,ke=[{key:"liveMatchesNow",emoji:"üî¥"},{key:"premierLeagueToday",emoji:"üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø"},{key:"laLigaToday",emoji:"üá™üá∏"},{key:"championsLeague",emoji:"‚≠ê"},{key:"serieAToday",emoji:"üáÆüáπ"}];function Se(){const o=ne(),{t:s,i18n:a}=re(),{user:t}=ie(),{advertiser:i,trackClick:c}=oe(),[r,d]=b.useState([]),[g,y]=b.useState(""),[f,m]=b.useState(!1),[$,p]=b.useState(!1),[M,_]=b.useState(!0),[I,z]=b.useState(!1),[P,U]=b.useState(0),[Y,B]=b.useState(!1),{keyboardOpen:v,viewportHeight:Q}=le(),{hideBottomNav:F,showBottomNav:R}=ce(),[O,E]=b.useState(null),W=b.useRef(null),K=b.useRef(null),A=t==null?void 0:t.is_premium;b.useEffect(()=>{if(v)return F(),()=>R()},[v,F,R]),b.useEffect(()=>{if(A){E(999);return}V.getChatLimit().then(n=>E(n.remaining??n.limit??3)).catch(()=>E(3))},[A]);const l=()=>{try{const n=localStorage.getItem(G);if(!n)return null;const{messages:u,timestamp:w}=JSON.parse(n);return Date.now()-w>$e?(localStorage.removeItem(G),null):u}catch{return null}},h=n=>{try{const u=n.filter(w=>w.id!=="welcome");u.length>0&&localStorage.setItem(G,JSON.stringify({messages:u,timestamp:Date.now()}))}catch(u){console.error("Failed to save chat history:",u)}};b.useEffect(()=>{const n=l(),u={id:"welcome",role:"assistant",content:s("aiChat.welcomeMessage")};n&&n.length>0?(d([u,...n]),_(!1)):d([u])},[]),b.useEffect(()=>{var n;(n=W.current)==null||n.scrollIntoView({behavior:"smooth"})},[r,v]);const k=()=>{const n=(t==null?void 0:t.min_odds)||1.5,u=(t==null?void 0:t.max_odds)||3,w=(t==null?void 0:t.risk_level)||"medium",x={low:"Conservative - safer bets, favorites, double chance. 1-2% stakes.",medium:"Balanced - standard 1X2, over/under, BTTS. 2-5% stakes.",high:"Aggressive - value picks, accumulators, correct scores. 5-10% stakes."};return`

[USER BETTING PREFERENCES: Odds range ${n}-${u}, Risk: ${w.toUpperCase()} (${x[w]}). Only recommend bets within this range. IMPORTANT: If you recommend a bet, end with exactly this format: [BET] Bet Type @ Odds. Example: [BET] Over 2.5 Goals @ 1.85]`},C=n=>{if(!n)return null;const u=n.match(/\[BET\]\s*(.+?)\s*@\s*([\d.]+)/i);return u?{type:u[1].trim(),odds:parseFloat(u[2]),homeTeam:"Match",awayTeam:"",league:"",date:new Date().toLocaleDateString("en-GB")}:null},L=async n=>{var w;if(!n.trim()||f)return;if(!A&&O!==null&&O<=0){B(!0);return}const u={id:Date.now(),role:"user",content:n};d(x=>[...x,u]),y(""),_(!1),m(!0);try{const x=r.filter(j=>j.id!=="welcome"&&j.role&&j.content).map(j=>({role:String(j.role),content:String(j.content)})),T=n+k();x.push({role:"user",content:T}),p(!0);let D=null;try{const j=await pe(n);D=j?String(j):null}catch(j){console.error("Enrichment failed:",j)}p(!1);const H=((w=a.language)==null?void 0:w.slice(0,2))||"en",X=await V.aiChat(T,x,D,H);A||V.getChatLimit().then(j=>E(j.remaining??j.limit??0)).catch(()=>{});const q=P+1;U(q);const ae=C(X.response),Z=[...r,u,{id:Date.now()+1,role:"assistant",content:X.response,hasData:!!D,showAd:q%2===0,bet:ae}];d(Z),h(Z)}catch(x){console.error("AI Chat error:",x);const T=typeof x=="string"?x:(x==null?void 0:x.message)||String(x);let D;T.includes("402")||T.includes("limit")?D=s("aiChat.errLimit"):T.includes("401")||T.includes("Unauthorized")?D=s("aiChat.errAuth"):T.includes("500")?D=s("aiChat.errServer"):D=`${s("aiChat.error")}: ${T}`,d(H=>[...H,{id:Date.now()+1,role:"assistant",content:D}])}finally{m(!1),p(!1)}},S=()=>{d([{id:"welcome",role:"assistant",content:s("aiChat.chatCleared")}]),_(!0),localStorage.removeItem(G)};return e.jsxs("div",{className:"flex flex-col",style:{height:v?`${Q}px`:"100%"},children:[e.jsxs("div",{className:`bg-white px-4 flex items-center justify-between border-b border-gray-100 shrink-0 ${v?"py-1.5":"py-3"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!v&&e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:`font-bold text-gray-900 leading-none ${v?"text-sm":"text-lg"}`,children:s("aiChat.title")}),!v&&e.jsx("p",{className:"text-[10px] text-green-500 font-medium",children:s("aiChat.realTimeData")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!v&&e.jsxs("span",{className:"flex items-center gap-1 bg-primary-50 text-primary-600 text-sm font-medium px-2.5 py-1 rounded-lg",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),O]}),e.jsx("button",{onClick:S,className:"w-8 h-8 flex items-center justify-center text-gray-400",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-contain px-5 py-4 space-y-4",children:[r.map(n=>e.jsxs("div",{children:[e.jsx("div",{className:`flex ${n.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] rounded-2xl p-4 text-sm leading-relaxed ${n.role==="user"?"bg-primary-600 text-white rounded-tr-sm":"bg-white text-gray-800 rounded-tl-sm shadow-sm"}`,children:[n.hasData&&n.role==="assistant"&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-green-50 text-green-600 font-medium flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s("aiChat.realTimeData")]}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-primary-50 text-primary-600 font-medium",children:s("aiChat.aiAnalysis")})]}),e.jsx(Ce,{content:n.content,isUser:n.role==="user"}),n.bet&&n.role==="assistant"&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("button",{onClick:()=>o("/promo?banner=aichat_bet_card"),className:"w-full text-left relative overflow-hidden rounded-xl shadow-lg",style:{background:"#059669"},children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(110deg, transparent 20%, rgba(255,255,255,0.15) 40%, rgba(255,255,255,0.25) 50%, rgba(255,255,255,0.15) 60%, transparent 80%)",animation:"shimmer 5s infinite",backgroundSize:"200% 100%"}}),e.jsxs("div",{className:"relative p-3 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-4 h-4 text-emerald-200",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-100",children:s("aiChat.recommended")})]}),e.jsx("span",{className:"bg-white text-emerald-700 text-sm font-bold px-2.5 py-0.5 rounded-lg shadow",children:n.bet.odds.toFixed(2)})]}),e.jsx("p",{className:"text-sm font-semibold text-white",children:n.bet.type})]}),e.jsx("div",{className:"relative px-3 py-3",style:{background:"rgba(0,0,0,0.15)",borderTop:"1px solid rgba(255,255,255,0.1)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-200 text-xs font-medium uppercase tracking-wide",children:s("advertiser.freeBetLabel")}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-white font-bold text-lg",children:[i.currency,"1,500"]}),e.jsx("span",{className:"text-emerald-200 text-sm",children:"√ó"}),e.jsx("span",{className:"text-white font-semibold",children:n.bet.odds.toFixed(2)})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-emerald-200 text-xs",children:"="}),e.jsxs("span",{className:"font-bold text-lg",style:{color:"#fbbf24"},children:[i.currency,(1500*n.bet.odds).toLocaleString()]}),e.jsx("span",{className:"text-emerald-200 text-xs ml-1",children:s("advertiser.potentialWin")})]}),e.jsx("p",{className:"text-white text-xs font-medium mt-1.5 opacity-90",children:s("advertiser.betAndTakeIt")})]}),e.jsx("svg",{className:"w-5 h-5 text-white/70",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})})]})}),!n.bet&&n.role==="assistant"&&n.id!=="welcome"&&e.jsxs("button",{onClick:()=>o("/promo?banner=aichat_promo_link"),className:"mt-3 pt-2 border-t border-gray-100 w-full flex items-center justify-center gap-1.5 text-xs text-emerald-600 font-medium hover:text-emerald-700",children:[s("advertiser.freeBet",{bonus:i.bonusAmount}),e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})]})}),n.showAd&&e.jsxs("div",{className:"mt-3 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-4 border border-emerald-100",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-white font-bold text-xs",children:i.currency})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s("aiChat.betOnPredictions")}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:s("aiChat.getBonus",{bonus:i.bonusAmount,name:i.name})})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{onClick:()=>o("/promo?banner=aichat_ad_get_bonus"),className:"flex-1 bg-emerald-600 text-white text-xs font-semibold py-2 px-3 rounded-lg text-center",children:s("aiChat.getBonus2")}),e.jsx("button",{onClick:()=>o("/promo?banner=aichat_ad_learn_more"),className:"px-3 py-2 bg-white text-gray-700 text-xs font-medium rounded-lg border border-gray-200",children:s("aiChat.learnMore")})]})]})]},n.id)),f&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white rounded-2xl rounded-tl-sm p-4 shadow-sm",children:$?e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(J,{size:"xs"}),s("aiChat.fetchingData")]}):e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(J,{size:"xs"}),s("aiChat.analyzing")]})})}),e.jsx("div",{ref:W})]}),M&&r.length<=1&&!v&&e.jsxs("div",{className:"px-5 pb-2 shrink-0",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("button",{onClick:()=>o("/promo?banner=aichat_bonus_button"),className:"flex-1 text-sm px-3 py-2.5 rounded-xl font-medium bg-emerald-600 text-white",children:s("advertiser.bonusButton",{bonus:i.bonusAmount})}),e.jsxs("button",{onClick:()=>L(s("aiChat.todaysBestBets")),disabled:f,className:"flex-1 text-sm px-3 py-2.5 rounded-xl font-medium disabled:opacity-50 bg-primary-600 text-white",children:["üéØ ",s("advertiser.bestBets")]})]}),I&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ke.map(n=>e.jsxs("button",{onClick:()=>L(s(`aiChat.${n.key}`)),disabled:f,className:"bg-white text-gray-700 text-sm px-3 py-1.5 rounded-full border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:[n.emoji," ",s(`aiChat.${n.key}`)]},n.key))}),e.jsx("button",{onClick:()=>z(!I),className:"w-full flex items-center justify-center gap-1.5 text-xs text-gray-500 py-2 hover:text-gray-700",children:I?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),s("aiChat.showLess")]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),s("aiChat.moreQuestions")]})})]}),e.jsx("div",{className:`px-4 bg-white border-t border-gray-100 shrink-0 ${v?"py-1.5":"py-2.5"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:K,type:"text",value:g,onChange:n=>y(n.target.value),onKeyDown:n=>n.key==="Enter"&&!f&&L(g),placeholder:s("aiChat.inputPlaceholder"),className:"flex-1 bg-gray-50 rounded-full px-4 py-2.5 text-base focus:outline-none focus:ring-2 focus:ring-primary-200",disabled:f,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other"}),e.jsx("button",{onClick:()=>L(g),disabled:f||!g.trim(),className:"w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center shrink-0 disabled:opacity-50",children:f?e.jsx(J,{size:"xs",light:!0}):e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})})})]})}),Y&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-6",onClick:()=>B(!1),children:[e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsxs("div",{className:"relative bg-white rounded-2xl w-full max-w-sm p-5 shadow-xl",onClick:n=>n.stopPropagation(),children:[e.jsx("button",{onClick:()=>B(!1),className:"absolute top-3 right-3 text-gray-400",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s("aiChat.freeLimitReached")}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s("aiChat.usedAllRequests",{count:0})})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 mb-1",children:s("aiChat.unlockUnlimitedAI")}),e.jsx("p",{className:"text-xs text-green-600",children:s("aiChat.depositForUnlimited",{name:i.name})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>{B(!1),o("/promo?banner=aichat_limit_unlock")},className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold py-3 rounded-xl flex items-center justify-center gap-2 text-sm",children:s("aiChat.depositAndUnlock")}),e.jsx("button",{onClick:()=>B(!1),className:"w-full text-gray-500 text-sm py-2",children:s("aiChat.maybeLater")})]})]})]})]})}function te(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Ce({content:o,isUser:s}){if(!o)return null;const a=o.replace(/\[BET\]\s*.+?@\s*[\d.]+/gi,"").trim();return e.jsx("div",{className:"space-y-0.5",children:a.split(`
`).map((t,i)=>{if(t==="")return e.jsx("div",{className:"h-1.5"},i);if(t.match(/^---+$/))return e.jsx("hr",{className:`my-2 ${s?"border-white/20":"border-gray-100"}`},i);if(t.startsWith("---")&&t.endsWith("---")){const r=t.replace(/^-+\s*/,"").replace(/\s*-+$/,"");return e.jsx("p",{className:`font-semibold text-xs uppercase mt-2 mb-1 ${s?"text-white/70":"text-gray-400"}`,children:r},i)}if(t.startsWith("‚Ä¢ ")||t.startsWith("- ")||t.startsWith("* ")){const r=t.replace(/^[\u2022\-*]\s+/,""),d=te(r).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return e.jsxs("div",{className:"flex gap-2 pl-1",children:[e.jsx("span",{className:s?"text-white/50":"text-gray-300",children:"‚Ä¢"}),e.jsx("p",{dangerouslySetInnerHTML:{__html:d}})]},i)}const c=te(t).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return e.jsx("p",{dangerouslySetInnerHTML:{__html:c}},i)})})}export{Se as default};
