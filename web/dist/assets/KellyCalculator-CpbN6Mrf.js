import{u as P,a as z,r,j as e}from"./index-BHJ97n9P.js";function T(){const k=P(),{t:l}=z(),[i,x]=r.useState(""),[c,m]=r.useState(""),[n,h]=r.useState(""),[u,f]=r.useState(1),[t,d]=r.useState(null),w=()=>{const s=parseFloat(i),a=parseFloat(c)/100,b=parseFloat(n);if(isNaN(s)||isNaN(a)||s<=1||a<=0||a>=1){d({error:!0});return}const p=s-1,y=a,j=1-y,o=(p*y-j)/p*100,g=o*u,v=1/s,L=(a-v)/v*100,N=b?g/100*b:0;d({kelly:o,adjustedKelly:g,stake:N,edge:L,ev:(a*(s-1)-j)*(N||100),isPositive:o>0})},C=()=>{x(""),m(""),h(""),d(null)},F=[{value:1,label:l("kelly.fullKelly"),desc:"100%"},{value:.5,label:l("kelly.halfKelly"),desc:"50%"},{value:.25,label:l("kelly.quarterKelly"),desc:"25%"},{value:.1,label:l("kelly.tenthKelly"),desc:"10%"}];return e.jsxs("div",{className:"h-full overflow-y-auto bg-gray-50 pb-24",children:[e.jsxs("div",{className:"bg-white px-5 pt-6 pb-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>k(-1),className:"p-2 -ml-2 hover:bg-gray-100 rounded-xl",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:l("kelly.title")}),e.jsx("p",{className:"text-sm text-gray-500",children:l("kelly.subtitle")})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center shrink-0",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:l("kelly.criterion")}),e.jsx("p",{className:"text-sm text-white/80",children:l("kelly.criterionDescription")})]})]})})]}),e.jsxs("div",{className:"px-5 py-4 space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("kelly.decimalOdds")}),e.jsx("input",{type:"number",step:"0.01",min:"1.01",value:i,onChange:s=>x(s.target.value),placeholder:l("kelly.oddsPlaceholder"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l("kelly.oddsHint")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("kelly.winProbability")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",step:"1",min:"1",max:"99",value:c,onChange:s=>m(s.target.value),placeholder:l("kelly.probabilityPlaceholder"),className:"w-full px-4 py-3 pr-10 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l("kelly.probabilityHint")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("kelly.bankroll")}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),e.jsx("input",{type:"number",step:"1",min:"1",value:n,onChange:s=>h(s.target.value),placeholder:l("kelly.bankrollPlaceholder"),className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l("kelly.bankrollHint")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("kelly.kellyFraction")}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:F.map(s=>e.jsxs("button",{onClick:()=>f(s.value),className:`py-3 px-4 rounded-xl border-2 transition-colors ${u===s.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[e.jsx("p",{className:"font-semibold text-sm",children:s.label}),e.jsx("p",{className:"text-xs opacity-70",children:s.desc})]},s.value))}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:l("kelly.fractionHint")})]}),e.jsx("button",{onClick:w,disabled:!i||!c,className:"w-full py-4 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l("kelly.calculate")})]}),t&&e.jsx("div",{className:`rounded-2xl p-4 ${t.error?"bg-red-50":t.isPositive?"bg-green-50":"bg-yellow-50"}`,children:t.error?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("svg",{className:"w-12 h-12 text-red-400 mx-auto mb-2",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),e.jsx("p",{className:"font-semibold text-red-700",children:l("kelly.invalidInput")}),e.jsx("p",{className:"text-sm text-red-600",children:l("kelly.checkValues")})]}):t.isPositive?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium mb-1",children:l("kelly.recommendedStake")}),e.jsxs("p",{className:"text-4xl font-bold text-green-700",children:[t.adjustedKelly.toFixed(2),"%"]}),n&&e.jsxs("p",{className:"text-lg font-semibold text-green-600 mt-1",children:["$",t.stake.toFixed(2)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.kelly.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:l("kelly.fullKelly")})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["+",t.edge.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:l("kelly.edge")})]})]}),n&&e.jsx("div",{className:"bg-white rounded-xl p-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:l("kelly.expectedValue")}),e.jsxs("span",{className:"font-bold text-green-600",children:["+$",t.ev.toFixed(2)]})]})}),e.jsx("div",{className:"text-center pt-2",children:e.jsx("button",{onClick:C,className:"text-blue-600 font-semibold text-sm",children:l("kelly.calculateAgain")})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("svg",{className:"w-12 h-12 text-yellow-500 mx-auto mb-2",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),e.jsx("p",{className:"font-semibold text-yellow-700",children:l("kelly.noValueBet")}),e.jsx("p",{className:"text-sm text-yellow-600",children:l("kelly.negativeEdge")}),e.jsxs("p",{className:"mt-2 text-xs text-yellow-600",children:[l("kelly.edge"),": ",t.edge.toFixed(2),"%"]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 space-y-4",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:l("kelly.understandingTitle")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center shrink-0",children:e.jsx("span",{className:"font-bold text-blue-600",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l("kelly.step1Title")}),e.jsx("p",{className:"text-sm text-gray-500",children:l("kelly.step1Desc")})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center shrink-0",children:e.jsx("span",{className:"font-bold text-blue-600",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l("kelly.step2Title")}),e.jsx("p",{className:"text-sm text-gray-500",children:l("kelly.step2Desc")})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center shrink-0",children:e.jsx("span",{className:"font-bold text-blue-600",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l("kelly.step3Title")}),e.jsx("p",{className:"text-sm text-gray-500",children:l("kelly.step3Desc")})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:l("kelly.proTip")})," ",l("kelly.proTipText")]})]})})]})]})]})}export{T as default};
